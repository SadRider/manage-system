import{o as W,p as U,u as q,_ as de,E as K,ab as we,Z as Te,a5 as Ne,aj as Ee,n as Ce,a1 as oe,ak as re,y as Pe,D as ke}from"./base.3daa6fbf.js";import{a as $e,E as xe,b as Se}from"./el-table-column.538bce4b.js";import"./el-tag.793ec002.js";import"./el-tooltip.586473e3.js";import"./el-scrollbar.1870fc8d.js";import{m as ue,t as Q,e as be,v as Be,w as Me,n as H,r as Oe,E as Le}from"./el-button.de3023fd.js";import{_ as Re}from"./Title.ebe8e846.js";import{U as fe,e as Ae,r as ze,f as Ve,h as De,i as Fe,j as Ie,k as Ue,l as je}from"./api.3eb411a9.js";import{D as J,A as ee,b as $,j as A,I as te,o as ae,c as se,R as ve,m as O,W as Ke,ay as D,z as ne,N as ce,B as j,J as _e,K as He,d as a,r as le,C as We,E as pe,t as qe,H as Je,a0 as Xe,M as Ye,O as Ze,P as Ge,_ as Qe,a as R,w as f,V as Z,p as et,f as tt,g as F}from"./index.fe1af12a.js";import"./MenuIcon.54909a47.js";/* empty css                */import"./lock.a5548ad0.js";const X=Symbol("tabsRootContextKey"),at=W({tabs:{type:U(Array),default:()=>ue([])}}),st={name:"ElTabBar"},nt=J({...st,props:at,setup(t,{expose:i}){const m=t,v="ElTabBar",o=ne(),E=ee(X);E||Q(v,"<el-tabs><el-tab-bar /></el-tabs>");const y=q("tabs"),d=$(),T=$(),u=()=>{let e=0,n=0;const N=["top","bottom"].includes(E.props.tabPosition)?"width":"height",r=N==="width"?"x":"y";return m.tabs.every(s=>{var b,_,P,M;const g=(_=(b=o.parent)==null?void 0:b.refs)==null?void 0:_[`tab-${s.paneName}`];if(!g)return!1;if(!s.active)return!0;n=g[`client${D(N)}`];const L=r==="x"?"left":"top";e=g.getBoundingClientRect()[L]-((M=(P=g.parentElement)==null?void 0:P.getBoundingClientRect()[L])!=null?M:0);const z=window.getComputedStyle(g);return N==="width"&&(m.tabs.length>1&&(n-=Number.parseFloat(z.paddingLeft)+Number.parseFloat(z.paddingRight)),e+=Number.parseFloat(z.paddingLeft)),!1}),{[N]:`${n}px`,transform:`translate${D(r)}(${e}px)`}},h=()=>T.value=u();return A(()=>m.tabs,async()=>{await te(),h()},{immediate:!0}),be(d,()=>h()),i({ref:d,update:h}),(e,n)=>(ae(),se("div",{ref_key:"barRef",ref:d,class:ve([O(y).e("active-bar"),O(y).is(O(E).props.tabPosition)]),style:Ke(T.value)},null,6))}});var lt=de(nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const ot=W({panes:{type:U(Array),default:()=>ue([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:U(Function),default:ce},onTabRemove:{type:U(Function),default:ce},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ie="ElTabNav",rt=J({name:ie,props:ot,setup(t,{expose:i}){const m=ne(),v=ee(X);v||Q(ie,"<el-tabs><tab-nav /></el-tabs>");const o=q("tabs"),E=Be(),y=Me(),d=$(),T=$(),u=$(),h=$(!1),e=$(0),n=$(!1),N=$(!0),r=j(()=>["top","bottom"].includes(v.props.tabPosition)?"width":"height"),s=j(()=>({transform:`translate${r.value==="width"?"X":"Y"}(-${e.value}px)`})),b=()=>{if(!d.value)return;const l=d.value[`offset${D(r.value)}`],p=e.value;if(!p)return;const c=p>l?p-l:0;e.value=c},_=()=>{if(!d.value||!T.value)return;const l=T.value[`offset${D(r.value)}`],p=d.value[`offset${D(r.value)}`],c=e.value;if(l-c<=p)return;const x=l-c>p*2?c+p:l-p;e.value=x},P=async()=>{const l=T.value;if(!h.value||!u.value||!d.value||!l)return;await te();const p=u.value.querySelector(".is-active");if(!p)return;const c=d.value,x=["top","bottom"].includes(v.props.tabPosition),k=p.getBoundingClientRect(),C=c.getBoundingClientRect(),B=x?l.offsetWidth-C.width:l.offsetHeight-C.height,S=e.value;let w=S;x?(k.left<C.left&&(w=S-(C.left-k.left)),k.right>C.right&&(w=S+k.right-C.right)):(k.top<C.top&&(w=S-(C.top-k.top)),k.bottom>C.bottom&&(w=S+(k.bottom-C.bottom))),w=Math.max(w,0),e.value=Math.min(w,B)},M=()=>{if(!T.value||!d.value)return;const l=T.value[`offset${D(r.value)}`],p=d.value[`offset${D(r.value)}`],c=e.value;if(p<l){const x=e.value;h.value=h.value||{},h.value.prev=x,h.value.next=x+p<l,l-x<p&&(e.value=l-p)}else h.value=!1,c>0&&(e.value=0)},g=l=>{const p=l.code,{up:c,down:x,left:k,right:C}=H;if(![c,x,k,C].includes(p))return;const B=Array.from(l.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),S=B.indexOf(l.target);let w;p===k||p===c?S===0?w=B.length-1:w=S-1:S<B.length-1?w=S+1:w=0,B[w].focus(),B[w].click(),L()},L=()=>{N.value&&(n.value=!0)},z=()=>n.value=!1;return A(E,l=>{l==="hidden"?N.value=!1:l==="visible"&&setTimeout(()=>N.value=!0,50)}),A(y,l=>{l?setTimeout(()=>N.value=!0,50):N.value=!1}),be(u,M),_e(()=>setTimeout(()=>P(),0)),He(()=>M()),i({scrollToActiveTab:P,removeFocus:z}),A(()=>t.panes,()=>m.update(),{flush:"post"}),()=>{const l=h.value?[a("span",{class:[o.e("nav-prev"),o.is("disabled",!h.value.prev)],onClick:b},[a(K,null,{default:()=>[a(we,null,null)]})]),a("span",{class:[o.e("nav-next"),o.is("disabled",!h.value.next)],onClick:_},[a(K,null,{default:()=>[a(Te,null,null)]})])]:null,p=t.panes.map((c,x)=>{var k,C,B,S;const w=c.props.disabled,I=(C=(k=c.props.name)!=null?k:c.index)!=null?C:`${x}`,Y=!w&&(c.isClosable||t.editable);c.index=`${x}`;const he=Y?a(K,{class:"is-icon-close",onClick:V=>t.onTabRemove(c,V)},{default:()=>[a(Ne,null,null)]}):null,ge=((S=(B=c.slots).label)==null?void 0:S.call(B))||c.props.label,ye=!w&&c.active?0:-1;return a("div",{ref:`tab-${I}`,class:[o.e("item"),o.is(v.props.tabPosition),o.is("active",c.active),o.is("disabled",w),o.is("closable",Y),o.is("focus",n.value)],id:`tab-${I}`,key:`tab-${I}`,"aria-controls":`pane-${I}`,role:"tab","aria-selected":c.active,tabindex:ye,onFocus:()=>L(),onBlur:()=>z(),onClick:V=>{z(),t.onTabClick(c,I,V)},onKeydown:V=>{Y&&(V.code===H.delete||V.code===H.backspace)&&t.onTabRemove(c,V)}},[ge,he])});return a("div",{ref:u,class:[o.e("nav-wrap"),o.is("scrollable",!!h.value),o.is(v.props.tabPosition)]},[l,a("div",{class:o.e("nav-scroll"),ref:d},[a("div",{class:[o.e("nav"),o.is(v.props.tabPosition),o.is("stretch",t.stretch&&["top","bottom"].includes(v.props.tabPosition))],ref:T,style:s.value,role:"tablist",onKeydown:g},[t.type?null:a(lt,{tabs:[...t.panes]},null),p])])])}}}),ct=W({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:U(Function),default:()=>!0},stretch:Boolean}),G=t=>qe(t)||Ce(t),it={[fe]:t=>G(t),"tab-click":(t,i)=>i instanceof Event,"tab-change":t=>G(t),edit:(t,i)=>["remove","add"].includes(i),"tab-remove":t=>G(t),"tab-add":()=>!0};var dt=J({name:"ElTabs",props:ct,emits:it,setup(t,{emit:i,slots:m,expose:v}){var o,E;const y=q("tabs"),d=$(),T=le({}),u=$((E=(o=t.modelValue)!=null?o:t.activeName)!=null?E:"0"),h=s=>{u.value=s,i(fe,s),i("tab-change",s)},e=async s=>{var b,_,P;if(!(u.value===s||oe(s)))try{await((b=t.beforeLeave)==null?void 0:b.call(t,s,u.value))!==!1&&(h(s),(P=(_=d.value)==null?void 0:_.removeFocus)==null||P.call(_))}catch{}},n=(s,b,_)=>{s.props.disabled||(e(b),i("tab-click",s,_))},N=(s,b)=>{s.props.disabled||oe(s.props.name)||(b.stopPropagation(),i("edit",s.props.name,"remove"),i("tab-remove",s.props.name))},r=()=>{i("edit",void 0,"add"),i("tab-add")};return Oe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},j(()=>!!t.activeName)),A(()=>t.activeName,s=>e(s)),A(()=>t.modelValue,s=>e(s)),A(u,async()=>{var s;await te(),(s=d.value)==null||s.scrollToActiveTab()}),We(X,{props:t,currentName:u,registerPane:_=>T[_.uid]=_,unregisterPane:_=>delete T[_]}),v({currentName:u}),()=>{const s=t.editable||t.addable?a("span",{class:y.e("new-tab"),tabindex:"0",onClick:r,onKeydown:P=>{P.code===H.enter&&r()}},[a(K,{class:y.is("icon-plus")},{default:()=>[a(Ee,null,null)]})]):null,b=a("div",{class:[y.e("header"),y.is(t.tabPosition)]},[s,a(rt,{ref:d,currentName:u.value,editable:t.editable,type:t.type,panes:Object.values(T),stretch:t.stretch,onTabClick:n,onTabRemove:N},null)]),_=a("div",{class:y.e("content")},[pe(m,"default")]);return a("div",{class:[y.b(),y.m(t.tabPosition),{[y.m("card")]:t.type==="card",[y.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[b,_]:[_,b]])}}});const ut=W({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),bt=["id","aria-hidden","aria-labelledby"],ft={name:"ElTabPane"},vt=J({...ft,props:ut,setup(t){const i=t,m="ElTabPane",v=ne(),o=Je(),E=ee(X);E||Q(m,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const y=q("tab-pane"),d=$(),T=j(()=>i.closable||E.props.closable),u=re(()=>{var r;return E.currentName.value===((r=i.name)!=null?r:d.value)}),h=$(u.value),e=j(()=>{var r;return(r=i.name)!=null?r:d.value}),n=re(()=>!i.lazy||h.value||u.value);A(u,r=>{r&&(h.value=!0)});const N=le({uid:v.uid,slots:o,props:i,paneName:e,active:u,index:d,isClosable:T});return _e(()=>{E.registerPane(N)}),Xe(()=>{E.unregisterPane(N.uid)}),(r,s)=>O(n)?Ye((ae(),se("div",{key:0,id:`pane-${O(e)}`,class:ve(O(y).b()),role:"tabpanel","aria-hidden":!O(u),"aria-labelledby":`tab-${O(e)}`},[pe(r.$slots,"default")],10,bt)),[[Ze,O(u)]]):Ge("v-if",!0)}});var me=de(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const _t=Pe(dt,{TabPane:me}),pt=ke(me);const mt=t=>(et("data-v-2de729d6"),t=t(),tt(),t),ht={class:"message_wrapper"},gt={class:"container"},yt=mt(()=>R("div",{class:"explain"},"\u6A21\u62DF\u4E86\u6D88\u606F\u5217\u8868\uFF0C\u5404\u4E2A\u6309\u94AE\u5747\u6709\u5BF9\u5E94\u529F\u80FD\uFF08\u65E0\u8BE6\u60C5\u9875\uFF09\u3002",-1)),wt={class:"title"},Tt=F("\u6807\u4E3A\u5DF2\u8BFB"),Nt={class:"handle_row"},Et=F("\u5168\u90E8\u6807\u4E3A\u5DF2\u8BFB"),Ct={class:"title"},Pt=F("\u5220\u9664"),kt={class:"handle_row"},$t=F("\u5168\u90E8\u5220\u9664"),xt={class:"title"},St=F("\u8FD8\u539F"),Bt={class:"handle_row"},Mt=F("\u5168\u90E8\u8FD8\u539F"),Ot=F("\u6E05\u7A7A\u56DE\u6536\u7AD9"),Lt={__name:"index",setup(t){const i=$("first"),m=le({unread:[],read:[],recycle:[]}),v=async()=>{try{const e=await Ae();e.success&&Object.keys(e.data.messageList).forEach(n=>{m[n]=e.data.messageList[n]})}catch(e){console.error(e),ELMessage.error("\u83B7\u53D6\u6D88\u606F\u5217\u8868\u5931\u8D25")}};v();const o=async e=>{try{(await ze(e)).success&&v()}catch(n){console.error(n),ELMessage.error("\u5DF2\u8BFB\u5931\u8D25")}},E=async e=>{try{(await Ve(e)).success&&v()}catch(n){console.error(n),ELMessage.error("\u5220\u9664\u5931\u8D25")}},y=async e=>{try{(await De(e)).success&&v()}catch(n){console.error(n),ELMessage.error("\u8FD8\u539F\u5931\u8D25")}},d=async()=>{try{(await Fe()).success&&v()}catch(e){console.error(e),ELMessage.error("\u5DF2\u8BFB\u5931\u8D25")}},T=async()=>{try{(await Ie()).success&&v()}catch(e){console.error(e),ELMessage.error("\u5220\u9664\u5931\u8D25")}},u=async()=>{try{(await Ue()).success&&v()}catch(e){console.error(e),ELMessage.error("\u8FD8\u539F\u5931\u8D25")}},h=async()=>{try{(await je()).success&&v()}catch(e){console.error(e),ELMessage.error("\u8FD8\u539F\u5931\u8D25")}};return(e,n)=>{const N=Re,r=$e,s=xe,b=Le,_=Se,P=pt,M=_t;return ae(),se("div",ht,[a(N),R("div",gt,[yt,a(M,{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=g=>i.value=g)},{default:f(()=>[a(P,{label:`\u672A\u8BFB\u6D88\u606F\uFF08${m.unread.length}\uFF09`,name:"first"},{default:f(()=>[a(_,{data:m.unread,"show-header":!1,style:{width:"100%"}},{default:f(()=>[a(s,null,{default:f(g=>[a(r,null,{default:f(()=>[R("span",wt,Z(g.row.title),1)]),_:2},1024)]),_:1}),a(s,{prop:"date",width:"180"}),a(s,{width:"120"},{default:f(g=>[a(b,{size:"small",onClick:L=>o(g.row)},{default:f(()=>[Tt]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),R("div",Nt,[a(b,{type:"primary",onClick:d,disabled:!m.unread.length},{default:f(()=>[Et]),_:1},8,["disabled"])])]),_:1},8,["label"]),a(P,{label:`\u5DF2\u8BFB\u6D88\u606F\uFF08${m.read.length}\uFF09`,name:"second"},{default:f(()=>[a(_,{data:m.read,"show-header":!1},{default:f(()=>[a(s,null,{default:f(g=>[a(r,null,{default:f(()=>[R("span",Ct,Z(g.row.title),1)]),_:2},1024)]),_:1}),a(s,{prop:"date",width:"180"}),a(s,{width:"120"},{default:f(g=>[a(b,{size:"small",onClick:L=>E(g.row),type:"danger"},{default:f(()=>[Pt]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),R("div",kt,[a(b,{type:"danger",onClick:T,disabled:!m.read.length},{default:f(()=>[$t]),_:1},8,["disabled"])])]),_:1},8,["label"]),a(P,{label:`\u56DE\u6536\u7AD9\uFF08${m.recycle.length}\uFF09`,name:"third"},{default:f(()=>[a(_,{data:m.recycle,"show-header":!1},{default:f(()=>[a(s,null,{default:f(g=>[a(r,null,{default:f(()=>[R("span",xt,Z(g.row.title),1)]),_:2},1024)]),_:1}),a(s,{prop:"date",width:"180"}),a(s,{width:"120"},{default:f(g=>[a(b,{type:"success",size:"small",onClick:L=>y(g.row)},{default:f(()=>[St]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),R("div",Bt,[a(b,{type:"success",onClick:u,disabled:!m.recycle.length},{default:f(()=>[Mt]),_:1},8,["disabled"]),a(b,{type:"danger",onClick:h,disabled:!m.recycle.length},{default:f(()=>[Ot]),_:1},8,["disabled"])])]),_:1},8,["label"])]),_:1},8,["modelValue"])])])}}};var qt=Qe(Lt,[["__scopeId","data-v-2de729d6"]]);export{qt as default};
